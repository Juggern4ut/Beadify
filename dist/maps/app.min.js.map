{"version":3,"sources":["main.js","partials/_color.js","partials/_colorPicker.js","partials/_drawingShapes.js","partials/_drawResult.js","partials/_fileCooser.js","partials/_getAverageColor.js","partials/_lightbox.js","partials/_loadSampleImage.js","partials/_sizeSlider.js"],"names":["canvas_source","document","getElementById","context_source","getContext","canvas_result","context_result","colorArray","addEventListener","e","preventDefault","drawResult","redrawSelectedColors","colorDrawer","innerHTML","forEach","color","i","tmp","createElement","splice","style","backgroundColor","concat","hsl","hue","saturation","lightness","append","window","onload","colorPicker","ColorPicker","lightbox","Lightbox","draggable","setTitle","colorCanvas","addColorButton","display","push","Color","setHslValue","currentColor","setContent","open","infoLightbox","additionalClasses","openAnimation","closeAnimation","onclick","_classCallCheck","this","rgb","red","green","blue","hex","console","warn","rgb2Hsl","rgbToHex","hsl2rgb","test","hexToRgb","newRed","newGreen","newBlue","setRgbValue","max","Math","min","diff","f","n","k","arguments","length","undefined","a","floor","result","exec","parseInt","hexRed","toString","hexGreen","hexBlue","targetColor","smallestIndex","colorDiffs","map","arrayColor","colorDiffByRgb","smallestDiff","el","index","getHueDistance","abs","colorNum","color1","color2","sqrt","hue1","hue2","d","_this","canvas","ctx","canvasWidth","offsetWidth","canvasHeight","offsetHeight","scaleX","scaleY","x","y","j","fillStyle","fillRect","ceil","selecting","circle","cssText","after","remove","rect","getBoundingClientRect","win","ownerDocument","defaultView","mousePosX","pageX","left","pageXOffset","mousePosY","pageY","top","pageYOffset","maxTop","maxBottom","maxLeft","maxRight","circleTop","circleLeft","mousePercentageX","mousePercentageY","round","querySelector","drawBead","context","size","offset","beginPath","arc","lineWidth","PI","strokeStyle","stroke","drawCircle","fill","drawTriangle","moveTo","lineTo","closePath","drawDiamond","drawSquare","val","value","image_url","files","file","URL","createObjectURL","new_image","Image","src","clearRect","canvas_width","canvas_height","naturalHeight","naturalWidth","setAttribute","drawImage","generateDrawing","alert","element_size","compareType","log","total_rows","total_cols","col","row","image_data","getImageData","data","color_data","getAverageColor","avColor","closesColorFromArray","getColorClosestByHsl","getColorClosestByHue","getColorClosestByRgb","hslColor","filename","name","imageDataArray","counter","tmpColor","alpha","options","isOpen","setDefaultSettings","updateSettings","setupDomElements","setEscapeKeyToCloseLightbox","draggableLightbox","clickOutsideToClose","container","classList","add","animationDuration","className","inner","closeHandler","title","cursor","WebkitUserSelect","MozUserSelect","msUserSelect","userSelect","close","closeable","appendingElement","_this2","closeByEscape","keyCode","_this3","target","_this4","isDragging","currentTop","currentLeft","mouseDown","initialDragX","type","touches","initialDragY","mouseMove","tmpX","mouseUp","keepInBounds","boundsOffset","puffer","returnValue","wentAbove","wentBelow","wentLeft","wentRight","offsetTop","innerHeight","bottom","minTop","getComputedStyle","getPropertyValue","offsetLeft","innerWidth","right","minLeft","opened","closed","destroyed","key","hasOwnProperty","_typeof","Element","HTMLDocument","suboptions","subkey","_this5","_this6","resetPosition","overflow","setTimeout","_this7","drawing","size_slider","oninput"],"mappings":"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","file":"../js/app.min.js","sourcesContent":["let canvas_source = document.getElementById(\"canvas_source\");\nlet context_source = canvas_source.getContext(\"2d\");\n\nlet canvas_result = document.getElementById(\"canvas_result\");\nlet context_result = canvas_result.getContext(\"2d\");\n\nlet colorArray = [];\n\ndocument.getElementById(\"form\").addEventListener(\"submit\", e => {\n  e.preventDefault();\n  drawResult();\n});\n\nconst redrawSelectedColors = () => {\n  const colorDrawer = document.getElementById(\"color-drawer\");\n\n  colorDrawer.innerHTML = \"\";\n\n  colorArray.forEach((color, i) => {\n    let tmp = document.createElement(\"div\");\n    tmp.addEventListener(\"click\", () => {\n      colorArray.splice(i, 1);\n      redrawSelectedColors();\n    });\n    tmp.style.backgroundColor = `hsl(${color.hsl.hue}, ${color.hsl.saturation}%, ${color.hsl.lightness}%)`;\n    colorDrawer.append(tmp);\n  });\n};\n\nwindow.onload = () => {\n\n  let colorPicker = new ColorPicker();\n\n  const lightbox = new Lightbox({\n    draggable: true\n  }).setTitle(\"Colorpicker\");\n\n  const colorCanvas = document.getElementById(\"canvas_colorpicker\");\n  const addColorButton = document.createElement(\"button\");\n  addColorButton.innerHTML = \"Add color\";\n  addColorButton.style.display = \"block\";\n  addColorButton.addEventListener(\"click\", e => {\n    colorArray.push(\n      new Color().setHslValue(\n        colorPicker.currentColor.hue,\n        colorPicker.currentColor.saturation,\n        colorPicker.currentColor.lightness\n      )\n    );\n    redrawSelectedColors();\n  });\n  lightbox.setContent([colorCanvas, addColorButton]);\n\n  document.getElementById(\"color-button\").addEventListener(\"click\", e => {\n    lightbox.open();\n  });\n\n  const infoLightbox = new Lightbox({\n    additionalClasses: [\"align-right\"],\n    openAnimation: \"buildup\",\n    closeAnimation: \"collapse\",\n    draggable: true\n  })\n    .setTitle(\"Color compare methods\")\n    .setContent(\n      `\n      <h2>What are color compare methods?</h2>\n      <p>\n        Colors can be defined by several values. One is RGB which defines\n        the value for red, green and blue with a value between 0 and 255 \n        where 0 is no amount of that color and 255 is all the value of \n        that color. rgb(255, 255, 0) for example would be a mix of all \n        red and all green with no blue, so it would result in a bright \n        yellow.\n      </p>\n      <p>Another way is hsl which stands for hue, saturation and lightness.</p>\n      <p>\n        Since there are several ways to look at color, there are also\n        more than one distinct way to compare colors to oneanother.\n        And with this tool you can experiment with three of them\n      </p>\n      <ul>\n        <li>RGB - Will compare the colors by the squared average of all color values added. This one will usually provide the best results for this task</li>\n        <li>Hue - Will compare by the hue of the color. Saturation and lightness however will not be taken into consideration here.</li>\n        <li>HSL - The same as Hue but will also take saturation and lightness into effect</li>\n      </ul>\n      <p>Feel free to experiment with different color combinations and compare methods</p>\n      `\n    );\n\n  const handler = document.getElementById(\"info_handler\");\n  handler.onclick = () => {\n    infoLightbox.open();\n  };\n};\n","/**\r\n * Represents a color. Has functions to convert from\r\n * one format to another and many other functionalities\r\n * like comparing colors, inverting them and so on\r\n * @class Color\r\n * @author {Lukas Meier}\r\n */\r\nclass Color {\r\n  /**\r\n   * Constructs a new color and sets all values to black\r\n   */\r\n  constructor() {\r\n    this.rgb = { red: 0, green: 0, blue: 0 };\r\n    this.hsl = { hue: 0, saturation: 0, lightness: 0 };\r\n    this.hex = \"#000000\";\r\n  }\r\n\r\n  /**\r\n   * Will set the color using red, green and blue values\r\n   * @param {Number} red The red color value (0 - 255)\r\n   * @param {Number} green The green color value (0 - 255)\r\n   * @param {Number} blue The blue color value (0 - 255)\r\n   * @returns {Color} The Color-Object\r\n   */\r\n  setRgbValue(red, green, blue) {\r\n    if (red < 0 || red > 255) {\r\n      console.warn(`Red is out of bounds.`);\r\n      return false;\r\n    }\r\n    if (green < 0 || green > 255) {\r\n      console.warn(`Green is out of bounds.`);\r\n      return false;\r\n    }\r\n    if (blue < 0 || blue > 255) {\r\n      console.warn(`Blue is out of bounds.`);\r\n      return false;\r\n    }\r\n\r\n    this.rgb.red = red;\r\n    this.rgb.green = green;\r\n    this.rgb.blue = blue;\r\n\r\n    const hsl = Color.rgb2Hsl(red, green, blue);\r\n    this.hsl = hsl;\r\n\r\n    const hex = Color.rgbToHex(red, green, blue);\r\n    if (hex) {\r\n      this.hex = hex;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will set the color using hue, saturation and lightness\r\n   * @param {Number} hue The hue of the color (0 - 360)\r\n   * @param {Number} saturation The saturation of the color (0 - 100)\r\n   * @param {Number} lightness The lightness of the color (0 - 100)\r\n   * @returns {Color} The Color-Object\r\n   */\r\n  setHslValue(hue, saturation, lightness) {\r\n    if (hue > 360 || hue < 0) {\r\n      console.warn(\r\n        `The hue cannot be larger than 360 or negative. It was ${hue}`\r\n      );\r\n      return false;\r\n    }\r\n\r\n    if (saturation > 360 || saturation < 0) {\r\n      console.warn(\r\n        `The saturation cannot be larger than 100 or negative. It was ${saturation}`\r\n      );\r\n      return false;\r\n    }\r\n\r\n    if (lightness > 360 || lightness < 0) {\r\n      console.warn(\r\n        `The lightness  cannot be larger than 100 or negative. It was ${lightness}`\r\n      );\r\n      return false;\r\n    }\r\n\r\n    this.hsl.hue = hue;\r\n    this.hsl.saturation = saturation;\r\n    this.hsl.lightness = lightness;\r\n\r\n    const rgb = Color.hsl2rgb(hue, saturation, lightness);\r\n\r\n    this.rgb = rgb;\r\n\r\n    const hex = Color.rgbToHex(rgb.red, rgb.green, rgb.blue);\r\n    if (hex) {\r\n      this.hex = hex;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will set the color by using the hex format\r\n   * @param {String} hex The hex-value of the color\r\n   * @returns {Color} The Color-Object\r\n   */\r\n  setHexValue(hex) {\r\n    const regex = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i;\r\n    if (!regex.test(hex)) {\r\n      console.warn(`${hex} is not a correct hex-value`);\r\n      return false;\r\n    }\r\n    this.hex = hex;\r\n\r\n    const rgb = Color.hexToRgb(hex);\r\n    if (rgb) {\r\n      this.rgb = rgb;\r\n      const hsl = Color.rgb2Hsl(rgb.red, rgb.green, rgb.blue);\r\n      this.hsl = hsl;\r\n    }\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will invert the color\r\n   * @returns {Color} The newly inverted Color Object\r\n   */\r\n  invert() {\r\n    let newRed = 255 - this.rgb.red;\r\n    let newGreen = 255 - this.rgb.green;\r\n    let newBlue = 255 - this.rgb.blue;\r\n    this.setRgbValue(newRed, newGreen, newBlue);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will convert a rgb value to the hsl format\r\n   * @param {Number} red The red color value (0 - 255)\r\n   * @param {Number} green The green color value (0 - 255)\r\n   * @param {Number} blue The blue color value (0 - 255)\r\n   * @returns {Object} An Object containing the color in the hsl format\r\n   */\r\n  static rgb2Hsl(red, green, blue) {\r\n    red /= 255;\r\n    green /= 255;\r\n    blue /= 255;\r\n\r\n    let max = Math.max(red, green, blue);\r\n    let min = Math.min(red, green, blue);\r\n\r\n    let hue;\r\n    let saturation;\r\n    let lightness = (max + min) / 2;\r\n\r\n    if (max == min) {\r\n      // achromatic\r\n      hue = 0;\r\n      saturation = 0;\r\n    } else {\r\n      let diff = max - min;\r\n      saturation =\r\n        lightness > 0.5 ? diff / (2 - max - min) : diff / (max + min);\r\n\r\n      switch (max) {\r\n        case red:\r\n          hue = (green - blue) / diff + (green < blue ? 6 : 0);\r\n          break;\r\n        case green:\r\n          hue = (blue - red) / diff + 2;\r\n          break;\r\n        case blue:\r\n          hue = (red - green) / diff + 4;\r\n          break;\r\n      }\r\n\r\n      hue /= 6;\r\n    }\r\n\r\n    return {\r\n      hue: hue * 360,\r\n      saturation: saturation * 100,\r\n      lightness: lightness * 100\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Will convert a hsl value to the rgb format\r\n   * @param {Number} hue The hue of the color (0 - 360)\r\n   * @param {Number} saturation The percentage of the saturation (0 - 100)\r\n   * @param {Number} lightness The percentage of the lightness (0 - 100)\r\n   */\r\n  static hsl2rgb(hue, saturation, lightness) {\r\n    saturation /= 100;\r\n    lightness /= 100;\r\n\r\n    let a = saturation * Math.min(lightness, 1 - lightness);\r\n    let f = (n, k = (n + hue / 30) % 12) => {\r\n      return lightness - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\r\n    };\r\n\r\n    return {\r\n      red: Math.floor(f(0) * 255),\r\n      green: Math.floor(f(8) * 255),\r\n      blue: Math.floor(f(4) * 255)\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Converts the given hex value to rgb\r\n   * @param {String} hex The hex value of the color\r\n   * @returns {Object} The converted red, green and blue values or false if no valid hex was passed;\r\n   */\r\n  static hexToRgb(hex) {\r\n    var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n\r\n    if (!result) {\r\n      console.warn(`${hex} is not a valid hex-value so it cannot be converted`);\r\n      return false;\r\n    }\r\n\r\n    return {\r\n      red: parseInt(result[1], 16),\r\n      green: parseInt(result[2], 16),\r\n      blue: parseInt(result[3], 16)\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Converts a rgb value to its corresponding hex value\r\n   * @param {Number} red The red color value (0 - 255)\r\n   * @param {Number} green The green color value (0 - 255)\r\n   * @param {Number} blue The blue color value (0 - 255)\r\n   * @returns {String} The color in a hex value\r\n   */\r\n  static rgbToHex(red, green, blue) {\r\n    if (\r\n      red > 255 ||\r\n      green > 255 ||\r\n      blue > 255 ||\r\n      red < 0 ||\r\n      green < 0 ||\r\n      blue < 0\r\n    ) {\r\n      console.warn(\r\n        `Either the red, green or blue value is out of bounds. It has to be between 0 and 255`\r\n      );\r\n    }\r\n\r\n    let hexRed = red.toString(16);\r\n    let hexGreen = green.toString(16);\r\n    let hexBlue = blue.toString(16);\r\n    hexRed = hexRed.length == 1 ? \"0\" + hexRed : hexRed;\r\n    hexGreen = hexGreen.length == 1 ? \"0\" + hexGreen : hexGreen;\r\n    hexBlue = hexBlue.length == 1 ? \"0\" + hexBlue : hexBlue;\r\n\r\n    return `#${hexRed}${hexGreen}${hexBlue}`;\r\n  }\r\n\r\n  /**\r\n   * Will search an array of colors and return the one that matches the\r\n   * first given color the closest based on the squared rgb difference.\r\n   * @param {Color} color A color that should be searched for\r\n   * @param {Color[]} colorArray An array containing several colors.\r\n   * @returns {Color} The color matching the first parameter the closest will be returned\r\n   */\r\n  static getColorClosestByRgb(targetColor, colorArray) {\r\n    let colorDiffs = colorArray.map(arrayColor => {\r\n      return Color.colorDiffByRgb(arrayColor, targetColor);\r\n    });\r\n\r\n    let smallestDiff = 1000;\r\n    let smallestIndex;\r\n    colorDiffs.map((el, index) => {\r\n      smallestIndex = el < smallestDiff ? index : smallestIndex;\r\n      smallestDiff = el < smallestDiff ? el : smallestDiff;\r\n    });\r\n\r\n    return colorArray[smallestIndex];\r\n  }\r\n\r\n  /**\r\n   * Will search an array of colros and return the one that matches\r\n   * the first given color the closest based on the hue.\r\n   * @param {Color} targetColor The color that should be searched for\r\n   * @param {Color[]} colorArray An array containing colors.\r\n   * @returns {Color} The color matching the first parameter the closest will be returned\r\n   */\r\n  static getColorClosestByHue(targetColor, colorArray) {\r\n    var colorDiffs = colorArray.map(arrayColor => {\r\n      return Color.getHueDistance(arrayColor.hsl.hue, targetColor.hsl.hue);\r\n    });\r\n\r\n    let smallestDiff = 1000;\r\n    let smallestIndex;\r\n    colorDiffs.map((el, index) => {\r\n      smallestIndex = el < smallestDiff ? index : smallestIndex;\r\n      smallestDiff = el < smallestDiff ? el : smallestDiff;\r\n    });\r\n\r\n    return colorArray[smallestIndex];\r\n  }\r\n\r\n  /**\r\n   * Will search an array of colros and return the one that matches\r\n   * the first given color the closest based on the hue, saturation and lightness.\r\n   * @param {Color} targetColor The color that should be searched for\r\n   * @param {Color[]} colorArray An array containing colors.\r\n   * @returns {Color} The color matching the first parameter the closest will be returned\r\n   */\r\n  static getColorClosestByHsl(targetColor, colorArray) {\r\n    var colorDiffs = colorArray.map(\r\n      arrayColor =>\r\n        Math.abs(Color.colorNum(arrayColor) - Color.colorNum(targetColor)) +\r\n        Color.getHueDistance(arrayColor.hsl.hue, targetColor.hsl.hue)\r\n    );\r\n\r\n    let smallestDiff = 1000;\r\n    let smallestIndex;\r\n    colorDiffs.map((el, index) => {\r\n      smallestIndex = el < smallestDiff ? index : smallestIndex;\r\n      smallestDiff = el < smallestDiff ? el : smallestDiff;\r\n    });\r\n\r\n    return colorArray[smallestIndex];\r\n  }\r\n\r\n  /**\r\n   * Calculates the squred difference between all red, green and blue values\r\n   * @param {Color} color1 The first color\r\n   * @param {Color} color2 The second color\r\n   * @returns {Number} The calculated difference\r\n   */\r\n  static colorDiffByRgb(color1, color2) {\r\n    return Math.sqrt(\r\n      (color1.rgb.red - color2.rgb.red) * (color1.rgb.red - color2.rgb.red) +\r\n        (color1.rgb.green - color2.rgb.green) *\r\n          (color1.rgb.green - color2.rgb.green) +\r\n        (color1.rgb.blue - color2.rgb.blue) *\r\n          (color1.rgb.blue - color2.rgb.blue)\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Will return the distance between 2 hues\r\n   * @param {Number} hue1 The hue of the first color\r\n   * @param {Number} hue2 The hue of the second color\r\n   * @returns {Number} The distance between the hues\r\n   */\r\n  static getHueDistance(hue1, hue2) {\r\n    d = Math.abs(hue1 - hue2);\r\n    return d > 180 ? 360 - d : d;\r\n  }\r\n\r\n  /**\r\n   * Converts a number to it's number value\r\n   * @param {Color} color The color that should be converted\r\n   * @returns {Number}\r\n   */\r\n  static colorNum(color) {\r\n    let factorSat = 1;\r\n    let factorLi = 1;\r\n    return color.hsl.saturation * factorSat + color.hsl.lightness * factorLi;\r\n  }\r\n}\r\n","class ColorPicker {\r\n  constructor() {\r\n    this.canvas = document.getElementById(\"canvas_colorpicker\");\r\n    this.ctx = this.canvas.getContext(\"2d\");\r\n    this.canvasWidth = this.canvas.offsetWidth;\r\n    this.canvasHeight = this.canvas.offsetHeight;\r\n\r\n    this.scaleX = this.canvasWidth / 360;\r\n    this.scaleY = this.canvasHeight / 100;\r\n\r\n    this.currentColor = null;\r\n\r\n    let x = 0;\r\n    let y = 0;\r\n\r\n    let hue = 0;\r\n    let saturation = 100;\r\n    let lightness = 100;\r\n\r\n    for (let i = 0; i < 100; i++) {\r\n      for (let j = 0; j < 360; j++) {\r\n        this.ctx.fillStyle = `hsl(${hue}, ${saturation}%, ${lightness}%)`;\r\n        this.ctx.fillRect(\r\n          x,\r\n          y,\r\n          Math.ceil(this.scaleX + 1),\r\n          Math.ceil(this.scaleY + 1)\r\n        );\r\n        x += this.scaleX;\r\n        hue = j;\r\n      }\r\n      lightness -= 1;\r\n      x = 0;\r\n      y += 1;\r\n    }\r\n\r\n    this.canvas.addEventListener(\"mousedown\", e => {\r\n      this.selecting = true;\r\n      this.circle = document.createElement(\"div\");\r\n      this.circle.style.cssText =\r\n        \"background-color: red; border-radius: 50%; width: 10px; height: 10px; position: fixed; top: 0; left: 0; transform: translate(-50%, -50%); border: 1px solid #000;\";\r\n\r\n      this.canvas.after(this.circle);\r\n    });\r\n\r\n    document.addEventListener(\"mouseup\", () => {\r\n      if (!this.selecting) return false;\r\n      this.selecting = false;\r\n      this.circle.remove();\r\n    });\r\n\r\n    document.addEventListener(\"mousemove\", e => {\r\n      if (!this.selecting) return false;\r\n\r\n      let rect = this.canvas.getBoundingClientRect();\r\n      let win = this.canvas.ownerDocument.defaultView;\r\n\r\n      let mousePosX = e.pageX - rect.left + win.pageXOffset;\r\n      let mousePosY = e.pageY - rect.top + win.pageYOffset;\r\n\r\n      mousePosX = mousePosX < 0 ? 0 : mousePosX;\r\n      mousePosY = mousePosY < 0 ? 0 : mousePosY;\r\n\r\n      let maxTop = rect.top + win.pageYOffset;\r\n      let maxBottom = rect.top + win.pageYOffset + this.canvas.offsetHeight;\r\n\r\n      let maxLeft = rect.left + win.pageXOffset;\r\n      let maxRight = rect.left + win.pageXOffset + this.canvas.offsetWidth;\r\n\r\n      let circleTop = e.pageY;\r\n      let circleLeft = e.pageX;\r\n\r\n      if (e.pageY < maxTop) {\r\n        circleTop = maxTop;\r\n      } else if (e.pageY > maxBottom) {\r\n        circleTop = maxBottom;\r\n      }\r\n\r\n      if (e.pageX < maxLeft) {\r\n        circleLeft = maxLeft;\r\n      } else if (e.pageX > maxRight) {\r\n        circleLeft = maxRight;\r\n      }\r\n\r\n      this.circle.style.top = circleTop + \"px\";\r\n      this.circle.style.left = circleLeft + \"px\";\r\n\r\n      mousePosX = mousePosX > this.canvasWidth ? this.canvasWidth : mousePosX;\r\n      mousePosY = mousePosY > this.canvasHeight ? this.canvasHeight : mousePosY;\r\n\r\n      mousePercentageX = mousePosX / this.canvasWidth;\r\n      mousePercentageY = mousePosY / this.canvasHeight;\r\n\r\n      let hue = Math.round(360 * mousePercentageX);\r\n      let lightness = Math.round(100 - 100 * mousePercentageY);\r\n\r\n      let a = document.querySelector(\".lightbox__data\");\r\n      a.style.backgroundColor = `hsl(${hue}, 100%, ${lightness}%)`;\r\n\r\n      this.currentColor = { hue: hue, saturation: 100, lightness: lightness };\r\n\r\n      this.circle.style.backgroundColor = `hsl(${hue}, 100%, ${lightness}%)`;\r\n    });\r\n  }\r\n}\r\n","const drawBead = (context, x, y, size, color) => {\r\n  let lineWidth = 7;\r\n  let offset = size / 2;\r\n  context.beginPath();\r\n  context.arc(\r\n    x + offset,\r\n    y + offset,\r\n    offset - lineWidth/2,\r\n    0,\r\n    2 * Math.PI\r\n  );\r\n  context.lineWidth = lineWidth;\r\n  context.strokeStyle = color;\r\n  context.stroke();\r\n};\r\n\r\nconst drawCircle = (context, x, y, size, color) => {\r\n  let offset = size / 2;\r\n  context.beginPath();\r\n  context.arc(x + offset, y + offset, offset, 0, 2 * Math.PI);\r\n  context.fillStyle = color;\r\n  context.fill();\r\n};\r\n\r\nconst drawTriangle = (context, x, y, size, color) => {\r\n  let offset = size / 2;\r\n  context.beginPath();\r\n  context.moveTo(x + offset, y);\r\n  context.lineTo(x + size, y + size);\r\n  context.lineTo(x, y + size);\r\n  context.closePath();\r\n  context.fillStyle = color;\r\n  context.fill();\r\n};\r\n\r\nconst drawDiamond = (context, x, y, size, color) => {\r\n  let offset = size / 2;\r\n  context.beginPath();\r\n  context.moveTo(x + offset, y);\r\n  context.lineTo(x + size, y + offset);\r\n  context.lineTo(x + offset, y + size);\r\n  context.lineTo(x, y + offset);\r\n  context.closePath();\r\n  context.fillStyle = color;\r\n  context.fill();\r\n};\r\n\r\nconst drawSquare = (context, x, y, size, color) => {\r\n  context.fillStyle = color;\r\n  context.fillRect(x, y, size, size);\r\n};\r\n","const drawResult = () => {\r\n  let val = parseInt(document.getElementById(\"element_size\").value);\r\n  \r\n  if (typeof val === \"number\" && val > 2) {\r\n    let file_chooser = document.getElementById(\"fileChooser\");\r\n    let files = file_chooser.files;\r\n    let image_url;\r\n    if (files.length) {\r\n      let file = files[0];\r\n      image_url = window.URL.createObjectURL(file);\r\n    } else {\r\n      image_url = \"../res/sample.jpg\";\r\n    }\r\n\r\n    let new_image = new Image();\r\n    new_image.src = image_url;\r\n\r\n    context_source.clearRect(0, 0, canvas_width, canvas_height);\r\n    new_image.addEventListener(\"load\", () => {\r\n      canvas_height = new_image.naturalHeight;\r\n      canvas_width = new_image.naturalWidth;\r\n\r\n      canvas_source.setAttribute(\"height\", canvas_height);\r\n      canvas_source.setAttribute(\"width\", canvas_width);\r\n\r\n      canvas_result.setAttribute(\"height\", canvas_height);\r\n      canvas_result.setAttribute(\"width\", canvas_width);\r\n\r\n      context_source.drawImage(new_image, 0, 0);\r\n      generateDrawing(val);\r\n    });\r\n  } else {\r\n    alert(\"Please enter a valid number larger than 2\");\r\n  }\r\n};\r\n\r\nconst generateDrawing = element_size => {\r\n  \r\n  let compareType = document.getElementById(\"compare_type\").value;\r\n  console.log(compareType);\r\n  \r\n\r\n  context_result.clearRect(0, 0, canvas_width, canvas_height);\r\n\r\n  const total_rows = Math.floor(canvas_width / element_size);\r\n  const total_cols = Math.floor(canvas_height / element_size);\r\n  let x = 0;\r\n  let y = 0;\r\n\r\n  for (let col = 0; col < total_cols; col++) {\r\n    for (let row = 0; row < total_rows; row++) {\r\n      let image_data = context_source.getImageData(\r\n        x,\r\n        y,\r\n        element_size,\r\n        element_size\r\n      ).data;\r\n\r\n      let color_data = getAverageColor(image_data);\r\n      let avColor = new Color().setRgbValue(\r\n        color_data.red,\r\n        color_data.green,\r\n        color_data.blue\r\n      );\r\n\r\n      let closesColorFromArray;\r\n      if (compareType === \"hsl\") {\r\n        closesColorFromArray = Color.getColorClosestByHsl(avColor, colorArray);\r\n      } else if (compareType === \"hue\") {\r\n        closesColorFromArray = Color.getColorClosestByHue(avColor, colorArray);\r\n      } else {\r\n        closesColorFromArray = Color.getColorClosestByRgb(avColor, colorArray);\r\n      }\r\n\r\n      let hslColor = `hsl(${closesColorFromArray.hsl.hue}, ${closesColorFromArray.hsl.saturation}%, ${closesColorFromArray.hsl.lightness}%)`;\r\n\r\n      drawCircle(context_result, x, y, element_size, hslColor);\r\n\r\n      x += element_size;\r\n    }\r\n    x = 0;\r\n    y += element_size;\r\n  }\r\n};\r\n","document.getElementById(\"fileChooser\").addEventListener(\"change\", e => {\r\n  let filename = document.getElementById(\"fileChooser\").files[0].name;\r\n  if (filename) {\r\n    document.querySelector(\".form__label\").innerHTML = filename;\r\n  }\r\n});\r\n","const getAverageColor = imageDataArray => {\r\n  let counter = 0;\r\n  let tmpColor = {\r\n    red: 0,\r\n    green: 0,\r\n    blue: 0,\r\n    alpha: 0\r\n  };\r\n  for (let i = 0; i < imageDataArray.length; i++) {\r\n    if (i % 4 === 0) {\r\n      tmpColor.red += imageDataArray[i];\r\n    } else if (i % 4 === 1) {\r\n      tmpColor.green += imageDataArray[i];\r\n    } else if (i % 4 === 2) {\r\n      tmpColor.blue += imageDataArray[i];\r\n    } else if (i % 4 === 3) {\r\n      tmpColor.alpha += imageDataArray[i];\r\n      counter++;\r\n    }\r\n  }\r\n  let finalColor = {\r\n    red: tmpColor.red / counter,\r\n    green: tmpColor.green / counter,\r\n    blue: tmpColor.blue / counter,\r\n    alpha: tmpColor.alpha / counter\r\n  };\r\n  return finalColor;\r\n};\r\n","/**\r\n * Represents a lightbox that can be used to display information\r\n * to the user by being displayed on the top layer of the page\r\n *\r\n * @class Lightbox\r\n */\r\nclass Lightbox {\r\n  /**\r\n   * Sets up the basic structure and DOM of the lightbox\r\n   * @author {Lukas Meier}\r\n   * @param {Object} options The options to configure the lightbox\r\n   *  @param {(String|String[])} options.additionalClasses Additional classes that will be added to the lightbox\r\n   *  @param {Boolean} options.closeable If set to false, all triggers to close the lightbox will be automatically overwritten\r\n   *  @param {Boolean} options.draggable If set to true, the lightbox can be dragged by grabbing the titlebar\r\n   *  @param {Boolean} options.closeHandler If set to false, the lightbox will have no close button in the top right\r\n   *  @param {Boolean} options.closeByEscape If set to false, the lightbox can't be closed by pressing escape\r\n   *  @param {Boolean} options.clickOutsideToClose If set to true, the lightbox can be closed by clicking outside of it\r\n   *  @param {String} options.openAnimation The animation that should be used to open the lightbox. Use: grow, fadein, jelly or fadedown\r\n   *  @param {String} options.closeAnimation The animation that should be used to close the lightbox. Use: shrink, fadeout or fadeup\r\n   *  @param {Number} options.animationDuration The duration of the animation in milliseconds\r\n   *  @param {Number} options.boundsOffset If the lightbox is dragged outside of the page it will snap back with this margin\r\n   *  @param {Boolean} options.keepInBounds If set to true, the lightbox will snap back into bounds if dragged outside\r\n   *  @param {HTMLElement} options.appendingElement The Lightbox will be appended to this element. The body is strongly recommended here, as it is the default anyways.\r\n   *  @param {Function} options.open Callback that gets called when the lightbox starts opening\r\n   *  @param {Function} options.opened Callback that gets called when the lightbox finished opening\r\n   *  @param {Function} options.close Callback that gets called when the lightbox starts closing\r\n   *  @param {Function} options.closed Callback that gets called when the lightbox finished closing\r\n   *  @param {Function} options.destroyed Callback that gets called when the lightbox is destroyed\r\n   * @returns {Lightbox} The created lightbox object.\r\n   */\r\n  constructor(options) {\r\n    options = options ? options : {};\r\n\r\n    this.isOpen = false;\r\n\r\n    this.setDefaultSettings();\r\n    this.updateSettings(options);\r\n\r\n    this.setupDomElements();\r\n\r\n    this.setEscapeKeyToCloseLightbox();\r\n    this.draggableLightbox();\r\n    this.clickOutsideToClose();\r\n\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will create the DOM-Elements and place them at the end of the body\r\n   * @author {Lukas Meier}\r\n   * @returns {void}\r\n   */\r\n  setupDomElements() {\r\n    this.container = document.createElement(\"div\");\r\n    this.container.classList.add(\"lightbox\");\r\n    this.container.style.animationDuration = `${this.options.animationDuration}ms`;\r\n\r\n    if (\r\n      this.options.additionalClasses &&\r\n      this.options.additionalClasses.length\r\n    ) {\r\n      if (typeof this.options.additionalClasses === \"string\") {\r\n        this.container.classList.add(this.options.additionalClasses);\r\n      } else {\r\n        this.options.additionalClasses.forEach(className => {\r\n          this.container.classList.add(className);\r\n        });\r\n      }\r\n    }\r\n\r\n    this.inner = document.createElement(\"div\");\r\n    this.inner.classList.add(\"lightbox__inner\");\r\n    this.inner.classList.add(`lightbox__inner--${this.options.openAnimation}`);\r\n    this.inner.style.animationDuration = `${this.options.animationDuration}ms`;\r\n\r\n    this.closeHandler = document.createElement(\"div\");\r\n    this.closeHandler.classList.add(\"lightbox__close-handler\");\r\n\r\n    this.title = document.createElement(\"p\");\r\n    this.title.classList.add(\"lightbox__title\");\r\n\r\n    if (this.options.draggable) {\r\n      this.title.style.cursor = \"move\";\r\n      this.title.style.WebkitUserSelect = \"none\";\r\n      this.title.style.MozUserSelect = \"none\";\r\n      this.title.style.msUserSelect = \"none\";\r\n      this.title.style.userSelect = \"none\";\r\n    }\r\n\r\n    this.closeHandler.onclick = () => {\r\n      this.close();\r\n    };\r\n\r\n    this.data = document.createElement(\"div\");\r\n    this.data.classList.add(\"lightbox__data\");\r\n\r\n    if (this.options.closeHandler && this.options.closeable) {\r\n      this.inner.append(this.closeHandler);\r\n    }\r\n\r\n    this.inner.append(this.title);\r\n    this.inner.append(this.data);\r\n    this.container.append(this.inner);\r\n    this.options.appendingElement.append(this.container);\r\n  }\r\n\r\n  /**\r\n   * Adds an eventlistener to the document to\r\n   * allow the user to close the lightbox\r\n   * by pressing the escape key\r\n   * @author {Lukas Meier}\r\n   * @returns {Boolean} true if eventlistener has been set, false otherwise\r\n   */\r\n  setEscapeKeyToCloseLightbox() {\r\n    if (!this.options.closeByEscape || !this.options.closeable) return false;\r\n    document.addEventListener(\"keydown\", e => {\r\n      if (e.keyCode === 27 && this.isOpen) {\r\n        this.close();\r\n      }\r\n    });\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Sets a clicklistener to close the lightbox by\r\n   * clicking outside of it.\r\n   * @author {Lukas Meier}\r\n   * @returns {Boolean} true if eventlistener has been set, false otherwise\r\n   */\r\n  clickOutsideToClose() {\r\n    if (!this.options.clickOutsideToClose || !this.options.closeable)\r\n      return false;\r\n    this.container.addEventListener(\"click\", e => {\r\n      if (e.target === this.container) {\r\n        this.close();\r\n      }\r\n    });\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Will add several eventlisteners that allow\r\n   * the user to drag the lightbox by dragging\r\n   * the title bar.\r\n   * @author {Lukas Meier}\r\n   * @returns {Boolean} true if eventlisteners have been set, false otherwise\r\n   */\r\n  draggableLightbox() {\r\n    if (!this.options.draggable) return false;\r\n\r\n    this.isDragging = false;\r\n    this.currentTop = 0;\r\n    this.currentLeft = 0;\r\n\r\n    const mouseDown = e => {\r\n      this.isDragging = true;\r\n      this.initialDragX = e.type === \"touchmove\" ? e.touches[0].pageX : e.pageX;\r\n      this.initialDragY = e.type === \"touchmove\" ? e.touches[0].pageY : e.pageY;\r\n    };\r\n\r\n    const mouseMove = e => {\r\n      if (!this.isDragging) return false;\r\n\r\n      e.preventDefault();\r\n\r\n      let tmpX = e.type === \"touchmove\" ? e.touches[0].pageX : e.pageX;\r\n      let tmpY = e.type === \"touchmove\" ? e.touches[0].pageY : e.pageY;\r\n\r\n      const top = tmpY - this.initialDragY + this.currentTop;\r\n      const left = tmpX - this.initialDragX + this.currentLeft;\r\n\r\n      this.inner.style.top = `${top}px`;\r\n      this.inner.style.left = `${left}px`;\r\n    };\r\n\r\n    const mouseUp = e => {\r\n      if (!this.isDragging) return false;\r\n      this.isDragging = false;\r\n      this.currentTop = parseInt(this.inner.style.top);\r\n      this.currentLeft = parseInt(this.inner.style.left);\r\n\r\n      this.currentTop = this.currentTop ? this.currentTop : 0;\r\n      this.currentLeft = this.currentLeft ? this.currentLeft : 0;\r\n\r\n      if (this.options.keepInBounds) {\r\n        this.keepInBounds(this.options.boundsOffset);\r\n      }\r\n    };\r\n\r\n    this.title.addEventListener(\"mousedown\", e => mouseDown(e));\r\n    this.title.addEventListener(\"touchstart\", e => mouseDown(e), false);\r\n\r\n    document\r\n      .querySelector(\"body\")\r\n      .addEventListener(\"mousemove\", e => mouseMove(e));\r\n    document\r\n      .querySelector(\"body\")\r\n      .addEventListener(\"touchmove\", e => mouseMove(e));\r\n\r\n    document.querySelector(\"body\").addEventListener(\"mouseup\", e => mouseUp(e));\r\n    document\r\n      .querySelector(\"body\")\r\n      .addEventListener(\"touchend\", e => mouseUp(e));\r\n\r\n    return true;\r\n  }\r\n\r\n  /**\r\n   * Will reset the draggin position of the lightbox\r\n   * @author {Lukas Meier}\r\n   * @returns {Boolean} true if position has been reset, false otherwise\r\n   */\r\n  resetPosition() {\r\n    if (this.options.draggable) {\r\n      this.inner.style.top = 0;\r\n      this.inner.style.left = 0;\r\n      this.currentLeft = 0;\r\n      this.currentTop = 0;\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Will check if the Lightbox is outside of the window\r\n   * and force it back inside. This way, the user cannot\r\n   * drag the handler outsite of the bounds.\r\n   * @author {Lukas Meier}\r\n   * @param {Number} puffer If the lightbox is out of bounds, it will have this number as a margin to the bounds.\r\n   * @returns {Object} Containing which bounds have been crossed\r\n   */\r\n  keepInBounds(puffer) {\r\n    let returnValue = {\r\n      wentAbove: false,\r\n      wentBelow: false,\r\n      wentLeft: false,\r\n      wentRight: false\r\n    };\r\n\r\n    //Prevent the box from going above the page bounds\r\n    if (this.inner.offsetTop < 0) {\r\n      const tmp = this.currentTop + Math.abs(this.inner.offsetTop) + puffer;\r\n      this.inner.style.top = `${tmp}px`;\r\n      this.currentTop = tmp;\r\n      returnValue.wentAbove = true;\r\n    }\r\n\r\n    //Prevent the box from going below the page bounds\r\n    else if (\r\n      this.inner.offsetTop + this.inner.offsetHeight >\r\n      window.innerHeight\r\n    ) {\r\n      const bottom = this.inner.offsetTop + this.inner.offsetHeight + puffer;\r\n      const diff = window.innerHeight - bottom;\r\n      const tmp = this.currentTop + diff;\r\n      this.inner.style.top = `${tmp}px`;\r\n      this.currentTop = tmp;\r\n\r\n      const marginTop = parseInt(\r\n        window.getComputedStyle(this.inner, null).getPropertyValue(\"margin-top\")\r\n      );\r\n\r\n      const minTop = (marginTop - puffer) * -1;\r\n      if (this.currentTop < minTop) {\r\n        this.currentTop = minTop;\r\n        this.inner.style.top = `${minTop}px`;\r\n      }\r\n\r\n      returnValue.wentBelow = true;\r\n    }\r\n\r\n    //Prevent the box from going left of the page bounds\r\n    if (this.inner.offsetLeft < 0) {\r\n      const tmp = this.currentLeft + Math.abs(this.inner.offsetLeft) + puffer;\r\n      this.inner.style.left = `${tmp}px`;\r\n      this.currentLeft = tmp;\r\n      returnValue.wentLeft = true;\r\n    }\r\n\r\n    //Prevent the box from going right of the page bounds\r\n    else if (\r\n      this.inner.offsetLeft + this.inner.offsetWidth >\r\n      window.innerWidth\r\n    ) {\r\n      const right = this.inner.offsetLeft + this.inner.offsetWidth + puffer;\r\n      const diff = window.innerWidth - right;\r\n      const tmp = this.currentLeft + diff;\r\n      this.inner.style.left = `${tmp}px`;\r\n      this.currentLeft = tmp;\r\n\r\n      const marginLeft = parseInt(\r\n        window\r\n          .getComputedStyle(this.inner, null)\r\n          .getPropertyValue(\"margin-left\")\r\n      );\r\n\r\n      const minLeft = (marginLeft - puffer) * -1;\r\n      if (this.currentLeft < minLeft) {\r\n        this.currentLeft = minLeft;\r\n        this.inner.style.left = `${minLeft}px`;\r\n      }\r\n\r\n      returnValue.wentRight = true;\r\n    }\r\n\r\n    return returnValue;\r\n  }\r\n\r\n  /**\r\n   * Sets the settings to the default values. This is called\r\n   * on initialisation and can be used to reset all settings.\r\n   * @author {Lukas Meier}\r\n   * @returns {void}\r\n   */\r\n  setDefaultSettings() {\r\n    this.options = {};\r\n    this.options.additionalClasses = [];\r\n    this.options.closeable = true;\r\n    this.options.draggable = false;\r\n    this.options.closeHandler = true;\r\n    this.options.closeByEscape = true;\r\n    this.options.openAnimation = \"fadedown\";\r\n    this.options.closeAnimation = \"fadeup\";\r\n    this.options.clickOutsideToClose = true;\r\n    this.options.animationDuration = 500;\r\n    this.options.boundsOffset = 20;\r\n    this.options.keepInBounds = true;\r\n    this.options.appendingElement = document.querySelector(\"body\");\r\n    this.options.open = () => {};\r\n    this.options.opened = () => {};\r\n    this.options.close = () => {};\r\n    this.options.closed = () => {};\r\n    this.options.destroyed = () => {};\r\n  }\r\n\r\n  /**\r\n   * Overrites default settings with custom ones.\r\n   * @author {Lukas Meier}\r\n   * @param {Object} options - Optional settings object.\r\n   * @returns {void}\r\n   */\r\n  updateSettings(options) {\r\n    for (let key in options) {\r\n      if (key === \"appendingElement\" && !options.appendingElement) {\r\n        console.warn(\r\n          \"The Element to append the lightbox to, could not be found. It will be appended to the body instead.\"\r\n        );\r\n      }\r\n\r\n      if (options.hasOwnProperty(key)) {\r\n        if (typeof options[key] === \"object\") {\r\n          if (\r\n            options[key] instanceof Element ||\r\n            options[key] instanceof HTMLDocument\r\n          ) {\r\n            this.options[key] = options[key];\r\n          } else {\r\n            let suboptions = options[key];\r\n            for (let subkey in suboptions) {\r\n              if (suboptions.hasOwnProperty(subkey)) {\r\n                this.options[key][subkey] = suboptions[subkey];\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          this.options[key] = options[key];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Will set the content of the lightbox\r\n   * @author {Lukas Meier}\r\n   * @param {(String|Object)} data The data to display. Can be a String, a HTMLObject or an Array of either.\r\n   * @param {String} title The title displayed in the top left of the lightbox\r\n   * @returns {Lightbox} The current Lightbox-Object\r\n   */\r\n  setContent(data) {\r\n    this.data.innerHTML = \"\";\r\n\r\n    if (typeof data === \"object\") {\r\n      if (data.length) {\r\n        data.forEach(el => {\r\n          if (typeof el === \"string\") {\r\n            this.data.innerHTML += el;\r\n          } else {\r\n            this.data.append(el);\r\n          }\r\n        });\r\n      } else {\r\n        this.data.append(data);\r\n      }\r\n    } else {\r\n      this.data.innerHTML = data;\r\n    }\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will set the Title of the Lightbox\r\n   * @param {String} title The title to set in the lightbox\r\n   * @author {Lukas Meier}\r\n   * @returns {Lightbox} The current Lightbox-Object\r\n   */\r\n  setTitle(title) {\r\n    title = title ? title : \"\";\r\n    this.title.innerHTML = title;\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Gives the lightbox the --open modifier which\r\n   * is used by CSS to make the lightbox visible\r\n   * @author {Lukas Meier}\r\n   * @returns {Lightbox} The current Lightbox-Object\r\n   */\r\n  open() {\r\n    this.options.open();\r\n    this.resetPosition();\r\n    this.container.classList.add(\"lightbox--open\");\r\n    this.container.classList.add(\"lightbox--opening\");\r\n    document.querySelector(\"body, html\").style.overflow = \"hidden\";\r\n    setTimeout(() => {\r\n      this.container.classList.remove(\"lightbox--opening\");\r\n      this.isOpen = true;\r\n      this.options.opened();\r\n    }, this.options.animationDuration);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Removes the --open modifier from the lightbox\r\n   * is used by CSS to make the lightbox visible\r\n   * @author {Lukas Meier}\r\n   * @returns {Lightbox} The current Lightbox-Object\r\n   */\r\n  close() {\r\n    this.options.close();\r\n    this.inner.classList.add(`lightbox__inner--${this.options.closeAnimation}`);\r\n    this.container.classList.add(\"lightbox--closing\");\r\n    setTimeout(() => {\r\n      this.container.classList.remove(\"lightbox--open\");\r\n      this.container.classList.remove(\"lightbox--closing\");\r\n      this.isOpen = false;\r\n      document.querySelector(\"body, html\").style.overflow = \"auto\";\r\n      this.inner.classList.remove(\r\n        `lightbox__inner--${this.options.closeAnimation}`\r\n      );\r\n      this.options.closed();\r\n    }, this.options.animationDuration);\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * Will remove all traces of the lightbox from the DOM\r\n   * and calls the destroyed callback.\r\n   * @author {Lukas Meier}\r\n   * @returns {void}\r\n   */\r\n  destroy() {\r\n    this.container.remove();\r\n    this.inner.remove();\r\n    this.closeHandler.remove();\r\n    this.title.remove();\r\n    this.data.remove();\r\n    this.options.destroyed();\r\n  }\r\n}\r\n","let drawing = new Image();\r\nlet canvas_width = 0;\r\nlet canvas_height = 0;\r\n\r\ndrawing.src = \"../../res/sample.jpg\";\r\n\r\ndrawing.addEventListener(\"load\", () => {\r\n  canvas_height = drawing.naturalHeight;\r\n  canvas_width = drawing.naturalWidth;\r\n\r\n  canvas_source.setAttribute(\"height\", canvas_height);\r\n  canvas_source.setAttribute(\"width\", canvas_width);\r\n\r\n  canvas_result.setAttribute(\"height\", canvas_height);\r\n  canvas_result.setAttribute(\"width\", canvas_width);\r\n\r\n  context_source.drawImage(drawing, 0, 0);\r\n\r\n  for (let i = 0; i < 10; i++) {\r\n    colorArray.push(new Color().setHslValue(0, 0, i * 10));\r\n  }\r\n\r\n  redrawSelectedColors();\r\n\r\n  generateDrawing(20);\r\n});\r\n","const size_slider = document.getElementById(\"size_slider\");\r\nsize_slider.oninput = () => {\r\n  document.getElementById(\"element_size\").value = size_slider.value;\r\n};\r\n\r\nsize_slider.addEventListener(\"change\", () => {\r\n  drawResult();\r\n});\r\n"]}